<form *ngIf="userService.role === 'Doctor' || userService.role === 'Admin'" [formGroup]="doctorForm" (ngSubmit)="submit()">
    <h3>Doctor Information Form</h3>
    <p *ngIf="message$ | async as message" class="errors">{{ message }}</p>
  
    <div class="form-group">
        <label for="name">Full Name</label>
        <input id="name" type="text" formControlName="name" />
    </div>
  
    <div class="form-group">
        <label for="contact">Contact Info</label>
        <input id="contact" type="text" formControlName="contact" />
    </div>
  
    <div class="form-group">
        <label for="specialty">Specialty</label>
        <input id="specialty" type="text" formControlName="specialty" />
    </div>
  
    <div class="form-row">
        <div class="form-group">
            <label for="experience">Experience (Years)</label>
            <input id="experience" type="number" formControlName="experience" />
        </div>
  
        <div class="form-group">
            <label for="fees">Consultation Fees</label>
            <input id="fees" type="number" formControlName="fees" />
        </div>
    </div>
  
    <div class="form-group">
        <label>Availability</label>
        <div class="checkbox-group">
            <div *ngFor="let day of daysOfWeek" class="checkbox-item">
            <input 
                type="checkbox"
                [value]="day"
                (change)="onCheckboxChange($event)"
                id="{{day}}"
            />
            <label for="{{day}}">{{ day }}</label>
            </div>
        </div>
    </div>
  
    <button type="submit" [disabled]="doctorForm.invalid">Save Info</button>
</form>

<div *ngIf="userService.role === 'User'" class="user-doctor-list">
    <h3>All Doctors</h3>
    <div *ngIf="doctors$ | async as doctors; else noDoctors">
      <div *ngFor="let doc of doctors" class="doctor-card">
        <p><strong>{{ doc.name }}</strong> â€” {{ doc.specialty }}</p>
        <p>Experience: {{ doc.experience }} yrs | Fees: ${{ doc.fees }}</p>
        <button (click)="viewReviews(doc._id!)">View Reviews</button>
      </div>
    </div>
    <ng-template #noDoctors>
      <p>No doctors found.</p>
    </ng-template>
</div>